---
id: torrentio
name: Torrentio
description: "Torrentio Indexer for Real-Debrid Cached Hashes"
language: en-US
type: public
encoding: UTF-8
requestDelay: 2
links:
    - https://torrentio.strem.fun/

caps:
  categories:
    TV: TV
    Movies: Movies

  modes:
    search: [q]  # Required - DO NOT TOUCH!
    tv-search: [q, imdbid]
    movie-search: [q, imdbid]

settings:
  - name: default_opts
    type: text
    label: Torrentio Options
    default: "stremio://torrentio.strem.fun/sort=qualitysize|qualityfilter=480p,scr,cam/manifest.json"
    required: true
    filters:
      - name: re_replace
        args: ["stremio:\/\/torrentio.strem.fun\/", ""]
      - name: re_replace
        args: ["https:\/\/torrentio.strem.fun\/", ""]
      - name: re_replace
        args: ["\/manifest.json", ""]

search:
  paths:
    - path: "{{ .Config.default_opts }}/stream/search/{{ if .Query.IMDBID }}{{ .Query.IMDBID }}.json{{ else }}tt0137523.json{{ end }}"
      method: get
      response:
        type: json

  rows:
    selector: streams

  fields:
    infohash:
      selector: infoHash
    title:
      selector: title
      filters:
        - name: split
          args: ["\n", 0]
    size:
      selector: title
      filters:
        - name: regexp
          args: "(\\d+(\\.?\\d+) GB)"
    seeders:
      selector: title
      filters:
        - name: regexp
          args: "(\\uD83D\\uDC64 \\d+)"